(window.webpackJsonp=window.webpackJsonp||[]).push([[4,7],{281:function(e,t,r){"use strict";r.r(t);r(4),r(3),r(1),r(5),r(2),r(6);var o=r(0),l=r(67);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function n(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={computed:n(n(n({},Object(l.b)("form",["GET_FORM"])),Object(l.b)("roomtype",["GET_PACKAGE_PRICE"])),Object(l.c)("form",["SET_FORM"])),methods:{calPrice:function(){var e=0,t=parseInt(this.GET_FORM.adultNum),r=parseInt(this.GET_FORM.kidNum),o=this.GET_PACKAGE_PRICE.portFee*(t+r),l=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].serviceTax*t;if(1==t&&0==r||2==t&&0==r)e=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom;else if(3==t&&0==r){e=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom+this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].tripleRoom}else if(4==t&&0==r){e=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom+2*this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].tripleRoom}else if(1==t&&r>0){e=r>1?this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom+this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].kidRoom*(r-1):this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom}else if(2==t&&r>0){e=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom+this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].kidRoom*r}else if(3==t&&r>0){e=this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].singleRoom+this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].tripleRoom+this.GET_PACKAGE_PRICE[this.GET_FORM.roomType].kidRoom}var c={field:"totalPrice",value:e+o+l};this.$store.commit("form/SET_FORM",c)}}},f=r(39),component=Object(f.a)(m,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"price"})}),[],!1,null,"0ecbd3ea",null);t.default=component.exports},295:function(e,t,r){"use strict";r.r(t);r(4),r(3),r(1),r(5),r(2),r(6);var o=r(0),l=r(67);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function n(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{form:{roomType:"",adultNum:0,kidNum:0},adult:[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}],kid:[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}},computed:n(n(n(n({},Object(l.b)("roomtype",["GET_ROOMTYPE"])),Object(l.b)("form",["GET_FORM"])),Object(l.c)("form",["SET_FORM","SET_GROUPNUMBER"])),{},{roomOption:function(){return this.GET_ROOMTYPE}}),created:function(){},methods:{onChangeAdult:function(){switch(this.form.adultNum){case 0:this.kid=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}];break;case 1:this.kid=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"}];break;case 2:this.kid=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"}];break;case 3:this.kid=[{value:0,text:"0"},{value:1,text:"1"}];break;case 4:this.kid=[{value:0,text:"0"}]}},onChangeKid:function(){switch(this.form.kidNum){case 0:this.adult=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}];break;case 1:this.adult=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"}];break;case 2:this.adult=[{value:0,text:"0"},{value:1,text:"1"},{value:2,text:"2"}];break;case 3:this.adult=[{value:0,text:"0"},{value:1,text:"1"}];break;case 4:this.adult=[{value:0,text:"0"}]}},onClickSet:function(){if(""==this.GET_FORM.register.lastname||""==this.GET_FORM.register.firstname||""==this.GET_FORM.register.email||""==this.GET_FORM.register.phoneNumber||""==this.GET_FORM.register.address)alert("請填寫訂購人所有欄位");else if(""==this.form.roomType)this.$refs.room.$el.focus();else if(0==this.form.adultNum)this.$refs.adultNum.$el.focus();else{var e="roomType",t=this.form.roomType,r={field:e,value:t};this.$store.commit("form/SET_FORM",r),r={field:e="adultNum",value:t=this.form.adultNum},this.$store.commit("form/SET_FORM",r),r={field:e="kidNum",value:t=this.form.kidNum},this.$store.commit("form/SET_FORM",r),this.$store.commit("form/SET_GROUPNUMBER",this.$route.query.groupNumber),this.$refs.elPrice.calPrice(),this.$refs.defaultGender.defaultFields()}}}},f=r(39),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chooseroom mt-5"},[r("b-form",[r("b-form-row",[r("b-col",[r("label",{attrs:{for:""}},[e._v("選擇房")]),e._v(" "),r("b-form-select",{ref:"room",attrs:{options:e.roomOption},model:{value:e.form.roomType,callback:function(t){e.$set(e.form,"roomType",t)},expression:"form.roomType"}})],1),e._v(" "),r("b-col",[r("label",{attrs:{for:""}},[e._v("大人")]),e._v(" "),r("b-form-select",{ref:"adultNum",attrs:{options:e.adult},on:{change:e.onChangeAdult},model:{value:e.form.adultNum,callback:function(t){e.$set(e.form,"adultNum",t)},expression:"form.adultNum"}})],1),e._v(" "),r("b-col",[r("label",{attrs:{for:""}},[e._v("小孩 (六個月-兩歲)")]),e._v(" "),r("b-form-select",{attrs:{options:e.kid},on:{change:e.onChangeKid},model:{value:e.form.kidNum,callback:function(t){e.$set(e.form,"kidNum",t)},expression:"form.kidNum"}})],1)],1),e._v(" "),r("b-col",{staticClass:"text-right mt-2 pr-0"},[r("b-button",{staticClass:"pl-5 pr-5",attrs:{variant:"primary"},on:{click:e.onClickSet}},[e._v("Set / 確定")])],1)],1),e._v(" "),r("Price",{ref:"elPrice"}),e._v(" "),r("TravelerForm",{ref:"defaultGender"})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Price:r(281).default,TravelerForm:r(296).default})}}]);